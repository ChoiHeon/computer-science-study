# 셸 정렬 (Shell)

* 삽입 정렬을 보완한 알고리즘입니다.
  * 삽입 정렬이 배열의 일부가 이미 정렬되었다는 점을 이용하는 것에서 착안
  * 삽입 정렬을 분할해서 처리
* 간격을 설정해서 부분 배열을 지정 및 삽입 정렬을 합니다.
* 간격을 절반으로 줄여가며 결과적으로 1이 될 때까지 반복합니다.



### 기본 로직

1. 배열의 길이가 N일 경우, 간격을 k= N/2로 설정합니다.
2. 간격에 따라 부분 배열을 정합니다.
   * 1번 부분 배열 => a[0], a[k], a[2*k], ...
   * 2번 부분 배열 => a[1], a[k+1], a[2*k+1] ...
3. 각 부분 배열에 대해 삽입 정렬을 합니다.
4. 간격을 절반으로 줄입니다. k = k>>1
5. 줄어는 간격에 따라 부분 배열을 정한 후, 각각 삽입 정렬을 실시합니다.
6. 간격이 1이 될 때까지 반복합니다.



### 특징

* 장점
  * 삽입 정렬보다는 비교 횟수가 줄어들 가능성이 높습니다.
  * 구현이 간단합니다.



### 시간복잡도

* 평균: O (N<sup>1.5</sup>)
* 최악의 경우: O (N<sup>2</sup>)



### Example

```c++
void shell(vector<int>& a) {
	int n = a.size();
	int k = n / 2;

	while (k) {
		for (int i = 0; i < k; ++i) {
			for (int j = i + k; j < n; j += k) {
				int p = a[j];
				int l = j - k;
				
				while (0 <= l && a[l] > p) {
					a[l + k] = a[l];
					l -= k;
				}

				a[l + k] = p;
			}
		}

		k /= 2;
	}
}
```

