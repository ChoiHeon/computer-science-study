# PyPy3

### 컴파일 언어 vs 인터프리터 언어

* 컴파일 언어: 소스코드를 기계어로 컴파일 => 실행파일 생성 => 실행
* 인터프리터 언어: 코드를 한 줄씩 읽어가며 실행



### Python의 동작

* 파이썬은 CPython이라는 C로 구현된 구현체가 있습니다.
* CPython은 인터프리터이면서 컴파일러입니다.
  * 작성된 파이썬 코드를 bytecode로 컴파일하고 이 코드를 인터프리터가 실행합니다.



##### CPython의 단점

* CPython은 GIL(Global Interpreter Lock)을 사용합니다.
  * bytecode를 실행할 때 멀티 스레드를 사용할 경우, 전체에 lock을 걸어서 한 번에 하나의 스레드만 파이썬 객체에 접근하도록 제한합니다.
  * 대신 자원 관리가 쉽다는 장점도 있습니다.
  * 만약 I/O 작업을 수행한다면 다른 스레드가 접근하는 것을 허용합니다.
  * 대신 멀티 프로세스로 해결이 가능합니다.
    * 메모리를 더 많이 차지하지만 병렬 처리가 가능해집니다.
    * 프로세스 간의 통신은 multiprocessing.Queue 로 가능합니다.



### PyPy3

* JIT(Just In TIme) 컴파일을 도입된 PyPy 구현체를 사용합니다.
  * 프로그램을 시행하기 전에 컴파일 하는 대신, 프로그램을 실행하는 시점에 필요한 부분만 즉석으로 컴파일하는 방식입니다.
  * 자주 쓰이는 코드를 캐싱하기 때문에 코드가 반복되는 구간이 많다면 성능을 향상시킬 수 있습니다.
* 간단한 코드는 Python3가 메모리와 속도 측면에서 유리하고
* 복잡하거나 반복이 많은 코드는 PyPy3가 우세합니다.

