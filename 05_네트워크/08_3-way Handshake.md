# 3-way Handshake

TCP/IP 프로토콜을 이용하여 통신을 진행할 때, 두 종단 간 **정확한** 데이터 전송을 보장하기 위해 연결을 설정하는 과정입니다. 연결은 상대와 데이터를 주고받기 전에 미리 생성합니다.

<br>

## 연결 과정

1. Client > Server / **TCP SYN**
   * 클라이언트는 서버에 접속을 요청하는 SYN(a) 패킷을 전송합니다.
   * SYN은 Synchronized Sequence Number의 약자입니다.
   * a는 난수에 의해 임의의 수로 설정됩니다.
2. Server > Client / **TCP SYN, ACK**
   * 서버는 클라이언트의 요청인 SYN(a) 패킷에 대한 요청 수락 응답으로 ACK(a+1) 패킷과 클라이언트의 포트를 열어달라는 의미의 SYN(b) 패킷을 전송합니다.
   * ACK는 Acknowledgement의 약자입니다.
3. Client > Server / **TCP ACK**
   * 클라이언트는 서버로부터 받은 두 개의 패킷에 대한 응답으로 ACK(b+1)을 전송합니다.
   * ACK(b+1)을 전송하면 연결이 성립됩니다.

<br>

## 3-way 를 사용해야 하는 이유

TCP는 **양방향성 연결**이므로 **클라이언트에서 서버에** 자신의 존재를 알리고 패킷을 보낼 수 있는 것처럼, **서버에서도 클라이언트에게** 자신의 존재를 알리고 패킷을 보낼 수 있다는 신호를 보내야 하기 때문에 3-way를 사용해야 합니다.

따라서 3-way Handshake를 사용하면 양쪽 모두 데이터를 전송할 준비가 되었다는 것을 보장할 수 있습니다.