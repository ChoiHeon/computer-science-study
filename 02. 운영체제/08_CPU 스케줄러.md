# CPU 스케줄러

* 여러 프로세스의 상황을 고려하여  CPU와 시스템의 자원을 결정합니다.
* 크게 비선점형과 선점형으로 나눌 수 있습니다. 비선점형은 실행 상태에 있는 프로세스를 중단시키지 않으며, 선점형은 실행중인 프로세스를 종료시켜 다른 프로세스로 교체할 수 있습니다. 
  * 비선점형은 대기중인 프로세스가 많아져서 처리율이 떨어지고 선점형은 문맥교환(context switching)이 발생하게 됩니다.



### 비선점형

1. FCFS: 하나의 큐에 여러 프로세스를 넣고 차례대로 큐에서 꺼내서 실행
2. SJF: 최단 작업 우선 / 준비큐에 있는 프로세스 중에서 실행시간이 가장 짧은 프로세스를 꺼냄 / 실행시간을 미리 알기 어렵기 때문에 효용성이 떨어짐
3. HRN: 최고 응답률 우선 / 우선순위를 부여 / 우선순위 = (대기시간+예상CPU사용시간)/예상CPU사용시간



### 선점형

1. 라운르 로빈: 준비큐의 맨 앞에서 프로세스를 꺼냄 / 프로세스가 타임슬라이스 내에 작업을 완료하지 못했을 경우 다시 준비큐에 삽입 / 타임슬라이스를 크게 잡으면 비선점형과 유사하고 작게 잡으면 문맥교환이 자주 발생해 오버헤드가 발생 / Unix는 타임슬라이스가 약 100ms
2. SRT: 라운드 로빈 + 준비큐에 있는 프로세스 중 남은 작업 시간이 가장 짧은 프로세스를 선택 / 프로세스의 작업 시간을 계산하기 어려움으로 효용성이 떨어짐 / 아사현상 발생
3. 다단계 피드백 큐: 다단계 큐에서 우선도가 낮을수록 타임슬라이스를 크게 배정 / 실행되고 준비큐로 돌아갈 때 우선순위를 한단계 낮춤 (커널 프로세스는 제외)



#### 문맥 교환 (Context Switching)

* 실행중인 작업을 중단하고 다른 작업을 실행하는 것을 의미
* 프로세스의 경우, 타임슬라이스가 종료되면 실행중이던 프로세스의 데이터를 백업하고 다른 프로세스의 데이터를 불러옴
* 스레드의 경우, 스택과 레지스터를 제외한 메모리 영역을 공유하기 때문에 문맥교환의 비용이 프로세스의 그것에 비해 적음



