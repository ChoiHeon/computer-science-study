# 스택 vs 힙

* 프로그램이 실행되기 위해서는 OS가 프로그램의 정보를 메모리에 로드해야 합니다.
* 이 떄, 할당된 메모리는 다음과 같이 나뉩니다.
  * 코드 영역: 실행할 프로그램의 코드
  * 데이터 영역: global 변수, static 변수
  * 힙 영역: 사용자의 동적 할당
  * 스택 영역: local 변수, 매개변수(파라미터)



### 스택 (Stack)

* 컴파일 타임에 크기가 결정됩니다.
* 함수 안에서 선언된 지역 변수, 매개변수, 리턴 값, 돌아올 주소 같은 함수와 관련된 정보가 저장됩니다.
  * 이러한 함수 호출 정보를 스택 프레임(Stack Frame)이라고 합니다.
  * 함수 호출이 완료되면 스택 프레임은 사라집니다.
* 높은 주소에서 낮은 주소로 채워집니다.
* 할당할 공간이 부족하면 에러(Stack Overflow)가 발생합니다.
* 일반적으로 크기가 결정되어 있으며 그 크기는 힙보다 작습니다.
* FIFO 방식으로 데이터를 관리하기 때문에 낭비 없이 메모리를 사용합니다.
* 힙보다 속도가 더 빠릅니다.
  * 단순 덧셈 계산만으로 저장 및 삭제할 수 있습니다.
  * L1, L2 캐쉬에서 데이터를 가지고 있을 확률이 높기 때문에 속도가 높은 요인도 있습니다.



### 힙 (Heap)

* 런타임 도중에 크기가 결정됩니다.
* 사용자가 직접 관리할 수 있는 영역입니다.
* 낮은 주소에서 높은 주소로 채워집니다.
* 할당할 공간이 부족하면 에러가 발생합니다.
* 할당시 사용자가 요청한 크기에 대한 할당 가능한 공간 탐색 등 추가적인 오버헤드가 발생합니다.
  * GC가 없을 경우에 파편화가 발생할 수 있기 때문에 사용자가 관리를 잘 해야합니다.

